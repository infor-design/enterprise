
<div class="row">
  <div class="twelve columns" id="container">
    <button class="btn-secondary" id="leakie">Cause a Leak</button>

      <div class="flex-toolbar" data-options="{ 'attributes': [ { 'name': 'data-automation-id', 'value': 'my-toolbar' } ] }">
        <div class="toolbar-section title">
          <h2>Incredibly Long Toolbar (Favor's Buttonset)</h2>
        </div>

        <div class="toolbar-section buttonset">
          <button class="btn">
            <span>Text Button</span>
          </button>

          <button class="btn-menu" data-options="{ 'attributes': [ { 'name': 'data-automation-id', 'value': 'my-menubutton' } ] }">
            <span>Menu Button</span>
          </button>
          <ul class="popupmenu">
            <li><a href="#">Item One</a></li>
            <li><a href="#">Item Two</a></li>
            <li class="submenu">
              <a href="#">Item Three</a>
              <ul class="popupmenu">
                <li><a href="#">Sub-Item One</a></li>
                <li><a href="#">Sub-Item Two</a></li>
              </ul>
            </li>
            <li><a href="#">Item Four</a></li>
          </ul>

          <button class="btn-icon" disabled="true">
            <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
              <use href="#icon-settings"></use>
            </svg>
            <span class="audible">Settings</span>
          </button>

          <button class="btn-icon">
            <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
              <use href="#icon-delete"></use>
            </svg>
            <span class="audible">Trash</span>
          </button>
        </div>

        <div class="toolbar-section search">
          <div class="searchfield-wrapper">
            <label for="toolbar-searchfield-01" class="audible">Toolbar Search</label>
            <input id="toolbar-searchfield-01" class="searchfield" placeholder="Search..." data-options="{ clearable: true }"/>
          </div>
        </div>

        <div class="toolbar-section more">
          <button class="btn-actions">
            <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
              <use href="#icon-more"></use>
            </svg>
            <span class="audible">More Actions</span>
          </button>
          <ul class="popupmenu">
            <li><a href="#">Pre-defined Item #1</a></li>
            <li><a href="#">Pre-defined Item #2</a></li>
            <li><a href="#">Pre-defined Item #3</a></li>
          </ul>
        </div>
      </div>

  </div>
</div>



<script>
  const html = `<div class="flex-toolbar" data-options="{ 'attributes': [ { 'name': 'data-automation-id', 'value': 'my-toolbar' } ] }">
        <div class="toolbar-section title">
          <h2>Incredibly Long Toolbar (Favor's Buttonset)</h2>
        </div>

        <div class="toolbar-section buttonset">
          <button class="btn">
            <span>Text Button</span>
          </button>

          <button class="btn-menu" data-options="{ 'attributes': [ { 'name': 'data-automation-id', 'value': 'my-menubutton' } ] }">
            <span>Menu Button</span>
          </button>
          <ul class="popupmenu">
            <li><a href="#">Item One</a></li>
            <li><a href="#">Item Two</a></li>
            <li class="submenu">
              <a href="#">Item Three</a>
              <ul class="popupmenu">
                <li><a href="#">Sub-Item One</a></li>
                <li><a href="#">Sub-Item Two</a></li>
              </ul>
            </li>
            <li><a href="#">Item Four</a></li>
          </ul>

          <button class="btn-icon" disabled="true">
            <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
              <use href="#icon-settings"></use>
            </svg>
            <span class="audible">Settings</span>
          </button>

          <button class="btn-icon">
            <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
              <use href="#icon-delete"></use>
            </svg>
            <span class="audible">Trash</span>
          </button>
        </div>

        <div class="toolbar-section search">
          <div class="searchfield-wrapper">
            <label for="toolbar-searchfield-01" class="audible">Toolbar Search</label>
            <input id="toolbar-searchfield-01" class="searchfield" placeholder="Search..." data-options="{ clearable: true }"/>
          </div>
        </div>

        <div class="toolbar-section more">
          <button class="btn-actions">
            <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
              <use href="#icon-more"></use>
            </svg>
            <span class="audible">More Actions</span>
          </button>
          <ul class="popupmenu">
            <li><a href="#">Pre-defined Item #1</a></li>
            <li><a href="#">Pre-defined Item #2</a></li>
            <li><a href="#">Pre-defined Item #3</a></li>
          </ul>
        </div>
      </div>`;

  $('#leakie').on('click', () => {
    $('.flex-toolbar').data('toolbarFlex').destroy();
    $('.flex-toolbar').remove();
    $('#container').append(html);
    $('.flex-toolbar').toolbarflex();
  });
</script>
