<body class="no-scroll">

  <a href="#maincontent" class="skip-link" data-translate="text">SkipToMain</a>
  {{> includes/svg-inline-refs}}
  {{> includes/applicationmenu}}

  <!-- Page Container -->
  <div class="page-container no-scroll">

    <header class="header is-personalizable">
      <div class="toolbar">
        <div class="title">
          <h1>Vertical Tabs Test - Independent Scrolling</h1>
        </div>
        <div class="buttonset"></div>
        {{> includes/header-actionbutton}}
      </div>
    </header>

    <div class="page-container no-scroll">

      <!-- Vertical Tabs inside of a tab panel -->
      <div id="tabs-vertical" class="vertical tab-container no-scroll is-personalizable" data-options='{ "verticalResponsive": true, "validate": false }'>

        <div class="tab-list-container scrollable-y">

          <div class="tab-list-info">
            <h4>Configuration Categories</h4>
            <p>
              Here's some additional information about the below categories that you can use to make decisions.
            </p>
          </div>
          <ul class="tab-list">
            <li class="tab is-selected">
              <a id="tab-test-info-a" data-automation-id="tab-test-info-a" href="#test-info">Test Information with additional information</a>
            </li>
            <li class="tab">
              <a id="tab-product-level-a" data-automation-id="tab-product-level-a" href="#product-level">Product Level</a>
            </li>
            <li class="tab">
              <a id="tab-kpis-a" data-automation-id="tab-kpis-a" href="#kpis">KPIs</a>
            </li>
            <li class="tab is-disabled">
              <a id="tab-customer-unit-level-a" data-automation-id="tab-customer-unit-level-a" href="#customer-unit-level">Customer Unit Level</a>
            </li>
            <li class="tab hidden">
              <a id="tab-hidden-a" data-automation-id="tab-hidden-a" href="#hidden">Hidden</a>
            </li>
            <li class="tab">
              <a id="tab-excluded-date-ranges-a" data-automation-id="tab-excluded-date-ranges-a" href="#excluded-date-ranges">Excluded Date Ranges</a>
            </li>
            <li class="tab">
              <a id="tab-exclusions-by-invoice-lines-a" data-automation-id="tab-exclusions-by-invoice-lines-a" href="#exclusions-by-invoice-lines">Exclusions by Invoice Lines</a>
            </li>
            <li class="tab is-disabled">
              <a id="exclusions-by-product-status" data-automation-id="tab-exclusions-by-product-status-a" href="#exclusions-by-product-status">Exclusions by Product Status</a>
            </li>
            <li class="tab">
              <a id="tab-excluded-customers-a" data-automation-id="tab-excluded-customers-a" href="#excluded-customers">Excluded Customers</a>
            </li>
            <li class="tab">
              <a id="tab-excluded-customer-ship-tos-a" data-automation-id="tab-excluded-customer-ship-tos-a" href="#excluded-customer-ship-tos">Excluded Customer Ship-tos</a>
            </li>
            <li class="tab">
              <a id="tab-excluded-product-groups-a" data-automation-id="tab-excluded-product-groups-a" href="#excluded-product-groups">Excluded Product Groups</a>
            </li>
            <li class="tab">
              <a id="tab-excluded-vendors-a" data-automation-id="tab-excluded-vendors-a" href="#excluded-vendors">Excluded Vendors</a>
            </li>
            <li class="tab">
              <a id="tab-datagrid-test" data-automation-id="tab-datagrid-test" href="#datagrid-test">Datagrid Test</a>
            </li>
          </ul>
          <div class="tab-list-info">
          </div>

        </div>

      </div>
      <div class="tab-panel-container scrollable-y is-personalizable">
        <div id="test-info" data-automation-id="tab-test-info-panel" class="tab-panel no-scroll">
          <h3>Test Information</h3>
          <p>This test demonstrates that both areas of the Vertical Tabs configuration are capable of scrolling independently.</p>

          <p>Back-end interactive supply-chains, enterprise sticky user-contributed robust platforms innovative; harness frictionless incentivize optimize? Models facilitate global, widgets brand B2B synthesize interactive e-markets A-list synergies, dot-com niches deploy scale, utilize recontextualize user-contributed. Visionary convergence eyeballs standards-compliant enhance vertical extensible deploy rich-clientAPIs reinvent innovative disintermediate end-to-end; engage; innovate users. E-enable matrix, architect 24/7 world-class e-tailers grow visionary; networkeffects enable bandwidth mesh deploy aggregate empower bandwidth cutting-edge, niches real-time integrated. Reinvent reinvent; next-generation grow, benchmark, harness leverage extensible semantic 24/365. Facilitate communities intuitive grow repurpose networking solutions clicks-and-mortar strategic, networks, "expedite enable engage implement syndicate peer-to-peer!"</p>

          <p>Paradigms integrate web-enabled, iterate virtual users networking platforms authentic podcasts integrate weblogs, cutting-edge. Networks transform mission-critical, e-business methodologies virtual remix e-services transition extend facilitate blogging: orchestrate, mesh technologies back-end networking e-markets platforms exploit matrix extend, experiences podcasting e-enable communities. Schemas. Architect enterprise portals; distributed deliver feeds; capture eyeballs content best-of-breed intuitive. Redefine visionary transparent B2C plug-and-play niches next-generation productize networking; granular; enable blogging robust blogospheres aggregate exploit remix embrace mindshare turn-key. Enable cultivate; repurpose. Holistic embrace innovate matrix models synergies one-to-one envisioneer social value. Channels optimize killer transform e-business, deliverables reinvent weblogs extensible, grow plug-and-play B2C harness. Virtual envisioneer mesh reintermediate content scale, seize disintermediate e-business, utilize user-contributed vortals blogospheres. E-services orchestrate synergies strategic iterate applications mindshare world-class reinvent, unleash iterate synergies. Synergize synergistic extend paradigms enable repurpose scale data-driven efficient innovative next-generation action-items. E-markets scale maximize: data-driven grow semantic design web-readiness enable, capture revolutionize, reinvent cross-platform dynamic vortals, implement harness peer-to-peer generate.</p>

          <p>Dot-com frictionless reinvent benchmark maximize holistic strategize tagclouds users e-services next-generation best-of-breed seize initiatives open-source engineer. Vortals cross-media A-list plug-and-play front-end e-business methodologies architectures, viral turn-key." Clicks-and-mortar cultivate experiences productize incentivize networkeffects web-enabled collaborative podcasts portals." Relationships recontextualize portals next-generation integrate incentivize supply-chains addelivery beta-test monetize enable strategic, seamless. Social life-hacks data-driven seamless e-business leading-edge holistic generate solutions interactive schemas social value-added models, next-generation harness functionalities, incentivize.</p>

          <p>Vertical share syndicate networkeffects convergence, communities, networks communities paradigms; reinvent infrastructures orchestrate bricks-and-clicks value-added implement maximize tagclouds synergies: architectures granular. Share B2C; post ubiquitous, optimize collaborative, productize, e-commerce, integrate reinvent schemas methodologies e-commerce value-added, e-markets. Recontextualize out-of-the-box 24/365 integrate incentivize extend impactful best-of-breed impactful viral integrated; web-enabled viral; generate grow. Back-end, user-centred granular enhance, intuitive world-class global content matrix turn-key global dynamic monetize webservices. Global; integrate mesh engage deliver blogging folksonomies, "incentivize bricks-and-clicks syndicate ubiquitous scale, eyeballs embrace harness solutions mesh innovative experiences visionary rich deliver." Expedite authentic e-markets, "synergize dynamic, widgets exploit," transparent networking revolutionary visualize grow B2C B2C brand streamline integrated compelling; open-source viral user-centric engage networking functionalities. Enable grow, brand impactful initiatives seamless leading-edge supply-chains cross-platform, cultivate networkeffects mindshare tagclouds disintermediate monetize, networkeffects.</p>

          <p>Synergistic killer enable enable relationships enhance addelivery, extend granular one-to-one addelivery standards-compliant strategic mashups. Value-added 24/7 empower virtual, models portals architect evolve killer customized facilitate enterprise widgets extend innovative iterate e-enable standards-compliant world-class. Facilitate networks transform morph models, distributed web-enabled facilitate customized one-to-one, "deliverables, 24/7," networkeffects dynamic. Customized sexy value-added benchmark sticky e-commerce magnetic incentivize portals, integrate remix integrate, productize ecologies, reinvent enhance scalable rich-clientAPIs. Users solutions, evolve integrated, embrace, eyeballs strategic front-end empower evolve; markets aggregate folksonomies value sexy real-time. Weblogs; webservices empower innovative integrate vortals recontextualize communities value-added efficient transparent dot-com magnetic webservices utilize, mesh." Portals, cutting-edge world-class users mashups e-enable harness tagclouds incubate beta-test aggregate enable, solutions.</p>
        </div>

        <div id="product-level" data-automation-id="tab-product-level-panel" class="tab-panel">
          <h3>Product Level</h3>
          <div class="field">
            <label for="product-level-type">Product Level Type</label>
            <select id="product-level-type" class="dropdown">
              <option selected>L1 Customer Unit - Product</option>
            </select>
          </div>
        </div>

        <div id="kpis" data-automation-id="tab-kpis-panel" class="tab-panel">
          <h3>KPIs</h3>
        </div>

        <div id="customer-unit-level" data-automation-id="tab-customer-unit-level-panel" class="tab-panel">
          <h3>Customer Unit Level</h3>
          <p>Frictionless webservices, killer open-source innovate, best-of-breed, whiteboard interactive back-end optimize capture dynamic front-end. Initiatives ubiquitous 24/7 enhance channels B2B drive frictionless web-readiness generate recontextualize widgets applications. Sexy sticky matrix, user-centred, rich user-centric: peer-to-peer podcasting networking addelivery optimize streamline integrated proactive: granular morph.<p>
        </div>
        <div id="hidden" data-automation-id="tab-hidden-panel" class="tab-panel">
          <h3>Hidden</h3>
          <p>Post incentivize; rich-clientAPIs customized revolutionize 24/365 killer incentivize integrate intuitive utilize! Exploit niches; enable A-list web-enabled holistic end-to-end. Exploit experiences value-added tagclouds, open-source cross-platform e-tailers, user-contributed, implement! Convergence, solutions front-end, "synergize markets initiatives integrateAJAX-enabled platforms; wireless, supply-chains reinvent, mindshare, synergies implement, drive evolve!"<p>
        </div>
        <div id="excluded-date-ranges" data-automation-id="tab-excluded-date-ranges-panel" class="tab-panel">
          <h3>Excluded Date Ranges</h3>
          <p>Exploit niches; enable A-list web-enabled holistic end-to-end. Exploit experiences value-added tagclouds, open-source cross-platform e-tailers, user-contributed, implement! Convergence, solutions front-end, "synergize markets initiatives integrateAJAX-enabled platforms; wireless, supply-chains reinvent, mindshare, synergies implement, drive evolve!" Post incentivize; rich-clientAPIs customized revolutionize 24/365 killer incentivize integrate intuitive utilize!<p>
        </div>
        <div id="exclusions-by-invoice-lines" data-automation-id="tab-exclusions-by-invoice-lines-panel" class="tab-panel">
          <h3>Exclusions by Invoice Lines</h3>
          <p> Post incentivize; rich-clientAPIs customized revolutionize 24/365 killer incentivize integrate intuitive utilize!<p>
        </div>
        <div id="exclusions-by-product-status" data-automation-id="tab-exclusions-by-product-status-panel" class="tab-panel">
          <h3>Exclusions by Product Status</h3>
          <p> Post incentivize; rich-clientAPIs customized revolutionize 24/365 killer incentivize integrate intuitive utilize!<p>
        </div>
        <div id="excluded-customers" data-automation-id="tab-excluded-customers-panel" class="tab-panel">
          <h3>Excluded Customers</h3>
          <p> Post incentivize; rich-clientAPIs customized revolutionize 24/365 killer incentivize integrate intuitive utilize!<p>
        </div>
        <div id="excluded-customer-ship-tos" data-automation-id="tab-excluded-customer-ship-tos-panel" class="tab-panel">
          <h3>Excluded Customer Ship-tos</h3>
          <p> Post incentivize; rich-clientAPIs customized revolutionize 24/365 killer incentivize integrate intuitive utilize!<p>
        </div>
        <div id="excluded-product-groups" data-automation-id="tab-excluded-product-groups-panel" class="tab-panel">
          <h3>Excluded Product Groups</h3>
          <p> Post incentivize; rich-clientAPIs customized revolutionize 24/365 killer incentivize integrate intuitive utilize!<p>
        </div>
        <div id="excluded-vendors" data-automation-id="tab-excluded-vendors-panel" class="tab-panel">
          <h3>Excluded Vendors</h3>
          <p> Post incentivize; rich-clientAPIs customized revolutionize 24/365 killer incentivize integrate intuitive utilize!<p>
        </div>
        <div id="datagrid-test" data-automation-id="tab-datagrid-test-panel" class="tab-panel" style="height: fit-content">
          <div id="datagrid"></div>
        </div>
      </div>

    </div>

  </div>

  <script>
    var gridApi = null;

    $('body').one('initialized', function () {
      var grid;
      const fiscalIdOptions = [
        { id: 'Yes', value: 'yes', label: 'Yes' },
        { id: 'No', value: 'no', label: 'No' },
      ];
      const data = [
        {
          country: 'NLD - Netherlands',
          registrationType: '',
          jurisdiction: '',
          effectiveFrom: '11/15/2023',
          expiry: '11/15/2023',
          fiscalId: 'Yes',
          taxRegistrationOrFiscalId: '1234567',
          isExtended: false,
        },
        {
          country: 'NLD - Netherlands',
          registrationType: '',
          jurisdiction: '',
          effectiveFrom: '11/15/2023',
          expiry: '11/15/2023',
          fiscalId: 'No',
          taxRegistrationOrFiscalId: '12345678',
          isExtended: false,
        },
      ];
      const columns = [
        {
          id: 'Country',
          name: 'Country',
          field: 'country',
          sortable: true,
          formatter: Soho.Formatters.Lookup,
          editor: Soho.Editors.Lookup,
        },
        {
        id: 'EffectiveFrom',
        name: 'Effective From',
        field: 'effectiveFrom',
        sortable: true,
        formatter: Soho.Formatters.Date,
        editor: Soho.Editors.Date,
        validate: 'date effectiveDateValidation',
        },
        {
          id: 'Expiry',
          name: 'Expiry Date',
          field: 'expiry',
          sortable: true,
          formatter: Soho.Formatters.Date,
          editor: Soho.Editors.Date,
          validate: 'date expiryDateValidation',
        },
        {
          id: 'FiscalId',
          name: 'Fiscal Id',
          field: 'fiscalId',
          sortable: true,
          formatter: Soho.Formatters.Dropdown,
          editor: Soho.Editors.Dropdown,
          options: fiscalIdOptions,
        },
        {
          id: 'TaxRegistrationOrFiscalId',
          name: 'Registration Number Or FiscalId',
          field: 'taxRegistrationOrFiscalId',
          sortable: true,
          formatter: Soho.Formatters.Input,
          editor: Soho.Editors.Input,
        },
        {
          id: 'IsExtended',
          name: '',
          field: 'isExtended',
          sortable: false,
          hidden: true,
        },
      ];

      $.fn.validation.rules.expiryDateValidation = {
        check: (value, field, grid) => {
          if (value && grid.item.effectiveFrom) {
            const expiryDate = new Date(value);
            const effectiveFrom = new Date(grid.item.effectiveFrom);
            if (
              Soho.Locale.isValidDate(expiryDate) &&
              Soho.Locale.isValidDate(effectiveFrom) &&
              expiryDate < effectiveFrom
            ) {
              return false;
            } else {
            }
          }
          return true;
        },
        id: 'custom',
        type: 'error',
        message: 'Expiry date must be grather than effective date',
      };

      $.fn.validation.rules.effectiveDateValidation = {
        check: (value, field, grid) => {
          if (value && grid.item.expiry) {
            const effectiveFrom = new Date(value);
            const expiryDate = new Date(grid.item.expiry);
            if (
              Soho.Locale.isValidDate(expiryDate) &&
              Soho.Locale.isValidDate(effectiveFrom) &&
              effectiveFrom > expiryDate
            ) {
              return false;
            } else {
            }
          }
          return true;
        },
        id: 'custom',
        type: 'error',
        message: 'Effective date must be less than expiry date',
      };

      //Init and get the api for the grid
      $('#datagrid').datagrid({
        columns: columns,
        dataset: data,
        clickToSelect: false,
        selectable: 'single',
        showNewRowIndicator: false,
        enableTooltips: true,
        showDirty: true,
        editable: true,
        frozenColumns: {
          right: ['delete'],
        },
        emptyMessage: {
          title: '',
          height: 'small',
        },
      });
    });

  </script>

