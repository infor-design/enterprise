
<div class="row">
  <div class="six columns">

    <button type="button" id="js-contextual-panel" class="btn-secondary contextual-action-panel-trigger no-init">
      Contextual Action Panel (Uses jQuery Settings)
    </button>
    <div class="contextual-action-panel">
      <div class="row">
        <div class="twelve columns">
          <div id="modal-datagrid" class="datagrid"></div>
        </div>
      </div>
    </div>
  </div>

</div>


<script>
  $('body').on('initialized', function () {

    var data = [],
      columns = [];

    columns.push({ id: 'date', name: 'Date', field: 'date', width: 125, formatter: Soho.Formatters.Date});
    columns.push({ id: 'description', name: 'Description', field: 'description', width: 140, formatter: Soho.Formatters.Readonly});
    columns.push({ id: 'paidBy', name: 'Paid By', field: 'PaidBy', formatter: Soho.Formatters.Readonly});
    columns.push({ id: 'category', name: 'Category', field: 'category', formatter: Soho.Formatters.Readonly});
    columns.push({ id: 'projectWork', name: 'Project Work', field: 'projectWork', formatter: Soho.Formatters.Readonly});
    columns.push({ id: 'resource', name: 'Resource', field: 'resource', formatter: Soho.Formatters.Readonly});
    columns.push({ id: 'amount', name: 'Amount', field: 'amount', formatter: Soho.Formatters.Readonly});

    data.push({ date: new Date(2015, 1, 20), description: 'Pending Benefits', paidBy: 'PR', category: '2244 Personnel', projectWork: 'Structural Design', resource: 'Charles Dunn', amount: '$204.00' });
    data.push({ date: new Date(2015, 1, 24), description: 'Pending Wages', paidBy: 'PR', category: '2244 Personnel', projectWork: 'Structural Design', resource: 'Vendor 3 Meylin Clark', amount: '$146.00' });
    data.push({ date: new Date(2015, 1, 24), description: 'Apple Computer INC', paidBy: 'AP', category: '2919 Supplies', projectWork: 'Structural Design', resource: 'Vendor 3 Meylin Clark', amount: '$1299.00' });
    data.push({ date: new Date(2015, 2, 02), description: 'PO #1292', paidBy: 'AP', category: '2244 Personnel', projectWork: 'Structural Design', resource: 'Vendor 3 Meylin Clark', amount: '$398.00' });

    $('#modal-datagrid').datagrid({
      columns: columns,
      dataset: data
    });

    // Build the Settings-based Contextual Action Panel
    $('#js-contextual-panel').contextualactionpanel({
      title: 'Expenses: $50,000.00',
      useFlexToolbar: false,
      buttons: [
        {
          text: 'Currency',
          cssClass: 'btn',
          click: function() {
            //nothing
          }
        },
        {
          cssClass: 'separator'
        },
        {
          text: 'Close',
          cssClass: 'btn close-button',
          icon: '#icon-close',
          click: function() {
            $(this).data('modal').close();
          }
        }
      ]
    });

  });

</script>
