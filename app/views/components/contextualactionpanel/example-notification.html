<div class="row">
  <div class="six columns">

    <button type="button" class="btn-secondary contextual-action-panel-trigger" data-options='{ fullsize: "responsive" }'>
      Contextual Action Panel
    </button>
    <div class="contextual-action-panel">
      <div class="toolbar">
        <div class="title">Company Information</div>
        <div class="buttonset">
          <button id="open-notification" class="btn" type="button">
            <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
              <use href="#icon-filter"></use>
            </svg>
            <span>Open Notification</span>
          </button>
          <div class="separator"></div>
          <button id="close-notification" class="btn" type="button">
            <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
              <use href="#icon-filter"></use>
            </svg>
            <span>Close Notification</span>
          </button>
          <div class="separator"></div>
          <button id="close-all" class="btn" type="button">
            <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
              <use href="#icon-filter"></use>
            </svg>
            <span>Close All Notifications</span>
          </button>
          <button class="btn" type="button">
            <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
              <use href="#icon-save"></use>
            </svg>
            <span>Save</span>
          </button>
          <div class="separator"></div>
          <button name="close" class="btn" type="button">
            <svg class="icon icon-close" focusable="false" aria-hidden="true" role="presentation">
              <use href="#icon-close"></use>
            </svg>
            <span>Close</span>
          </button>
        </div>
      </div>
      <div id="mock-header"></div>
      <div class="row">
        <div class="six columns">
          <div class="field">
            <label for="company-name">Company Name</label>
            <select id="company-name" name="company-name" class="dropdown">
              <option value="">None</option>
              <option value="jawbone" selected="true">Jawbone, Inc.</option>
              <option value="infor">Infor</option>
            </select>
          </div>

          <div class="field">
            <label for="purchase-form">Purchase Form</label>
            <select id="purchase-form" name="purchase-form" class="dropdown">
              <option value="">None</option>
              <option value="3567" selected="true">3567</option>
              <option value="3568">3568</option>
              <option value="3569">3569</option>
            </select>
          </div>

          <div class="field">
            <label for="template">Template</label>
            <select id="template" name="template" class="dropdown">
              <option value="" selected="true">None</option>
              <option value="1">Template #1</option>
              <option value="2">Template #2</option>
            </select>
          </div>

          <div class="field">
            <label for="notes">Notes</label>
            <textarea id="notes" name="notes"></textarea>
          </div>

        </div>
        <div class="six columns">

          <div class="field">
            <label for="ship-terms">Ship Terms</label>
            <select id="ship-terms" name="ship-terms" class="dropdown">
              <option value="">None</option>
              <option value="default" selected="true">Default</option>
              <option value="alternate">Alternate</option>
            </select>
          </div>

          <div class="field">
            <label for="ship-via">Ship Via</label>
            <select id="ship-via" name="ship-via" class="dropdown">
              <option value="">None</option>
              <option value="freight" selected="true">Freight</option>
              <option value="air">USPS Air</option>
            </select>
          </div>

          <div class="field">
            <label for="issue-method">Issue Method</label>
            <select id="issue-method" name="issue-method" class="dropdown">
              <option value="">None</option>
              <option value="phone">Telephone</option>
              <option value="email" selected="true">E-mail</option>
              <option value="sms">SMS Message</option>
            </select>
          </div>

          <div class="field">
            <input type="checkbox" id="po-box" name="po-box" class="checkbox" checked="true"/>
            <label for="po-box" class="checkbox-label top-padding">Freight</label>
          </div>

        </div>
      </div>
    </div>

  </div>
</div>

<script>
  let counter = 0;

  $('#open-notification').on('click', () => {
    $('#mock-header').notification({
      id: `test${counter++}`,
      type: 'info',
      message: `${counter}) DTO rejected by your manager for Sept 30, 2018. Please login to your Human Resources (HR) portal for an explanation on why. If you believe there was a mistake or wish to appeal the rejection, you can now also do that in the new HR portal.`,
      parent: '#mock-header',
      link: '#',
      linkText: 'Click to view',
      attributes: [
        { name: 'id', value: 'notification-id-2'},
        { name: 'data-automation-id', value: 'notification-automation-id-2' }
      ]
    }).data('notification').registerNotification();
  })

  $('#close-notification').on('click', function() {
    const data = $('#mock-header').data('notification');
    if (data) {
      data.close(`test${--counter}`);
    }
  });

  $('#close-all').on('click', function() {
    const data = $('#mock-header').data('notification');
    if (data) {
      data.closeAll();
      counter = 0;
    }
  });
</script>
