<div class="row">
  <div class="twelve columns">

    <button class="btn-secondary" type="button" id="add-context">Show
      Modal</button><br /><br />

    <!-- Modal Example -->
    <div id="modal-add-context" class="hidden">
      <div class="field">
        <label for="subject">Problem</label>
        <input type="text" id="subject" name="subject" />
      </div>

      <div class="field">
        <label for="problemOne">Sub Problem One</label>
        <input type="text" id="problemOne" name="problemOne" />
      </div>

      <div class="field">
        <label for="problemTwo">Sub Problem Two</label>
        <input type="text" id="problemTwo" name="problemTwo" />
      </div>

      <div class="field">
        <label for="problemThree">Sub Problem Three</label>
        <input type="text" id="problemThree" name="problemThree" />
      </div>

      <div class="field">
        <label for="problemFour">Sub Problem Four</label>
        <input type="text" id="problemFour" name="problemFour" />
      </div>

      <div class="field">
        <label for="location" class="label">Location</label>
        <select id="location" name="location" class="dropdown">
          <option value="N">North</option>
          <option value="S">South</option>
          <option value="E">East</option>
          <option value="W">West</option>
        </select>
      </div>

      <div class="field">
        <label for="notes-max">Notes (maxlength)</label>
        <textarea id="notes-max" class="textarea" maxlength="90" name="notes-max">Line One</textarea>
      </div>
    </div>

  </div>
</div>

<script>
  $('body').on('initialized', function () {
    var modalTitle =
      'Really Long Title Here Like Woah You Don\'t Even Understand This Is Long. It is a very long title since sometimes you have to have a very long title. This can sometimes cause spacing issues';

    var TOOLTIP_OPTIONS = {
      trigger: 'hover',
      content: modalTitle,
      placement: 'top'
    }

    var modals = {
        'add-context': {
          'title': modalTitle,
          'content': $('#modal-add-context')
        }
      },

      setModal = function (opt) {
        opt = $.extend({
          buttons: [{
            text: 'Cancel',
            //  id: 'modal-button-1',
            click: function (e, modal) {
              modal.close();
            }
          }, {
            text: 'Save',
            //  id: 'modal-button-2',
            click: function (e, modal) {
              modal.close();
            },
            validate: false,
            isDefault: true
          }],
          maxWidth: 800
        }, opt);

        $('body').modal(opt);
      };

    $('#add-context').on('click', function () {
      $(this).focus();
      setModal(modals[this.id]);

      var classicTheme = (Soho.theme.currentTheme.name.lastIndexOf('Classic') !== -1 || Soho.theme.currentTheme.name === 'Classic Light') && $('.modal-title')[0].innerHTML.length > 68;

      var newTheme = (Soho.theme.currentTheme.name.lastIndexOf('New') !== -1 || Soho.theme.currentTheme.name === 'Classic Uplift') && $('.modal-title')[0].innerHTML.length > 47;

      setTimeout(function () {
        if (classicTheme || newTheme) {
          $('.modal-title').tooltip(TOOLTIP_OPTIONS);
        }
      }, 100);

    });
  })

</script>
