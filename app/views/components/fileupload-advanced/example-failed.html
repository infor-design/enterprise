
<div class="row">
  <div class="four columns">
    <button type="button" style="margin-left: 20px;" class="btn-secondary" id="set-failed">Set Failed</button>
    <div class="fileupload-advanced" data-init="false">
    </div>
  </div>
</div>

<script>
  $('body').on('initialized', function() {
    const failMessage = 'File failed error message';
    const api = $('.fileupload-advanced').fileuploadadvanced().data('fileuploadadvanced');

    $('.fileupload-advanced').on('filefailed', (e, data) => {
      $('body').toast({
        title: `Error: ${data.file && data.file.name ? data.file.name : ''}`,
        message: data.error
      });
    });

    $('#set-failed').on('click', () => {
      api.setFailed(failMessage);
    });
  });
</script>
