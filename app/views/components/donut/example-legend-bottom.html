
<div class="row">
  <div class="two-thirds column" style="min-width: 200px !important; max-width: 300px !important;">
      <div class="widget auto-height">
        <div class="widget-header">
          <h2 class="widget-title">Pie Chart</h2>
        </div>
        <div class="widget-content">
          <div id="pie-chart-example" class="chart-container">
          </div>
        </div>
      </div>
      <button class="btn-primary" type="button" id="toggle-legend">Toggle Legend</button>
  </div>
</div>

<script>
$('body').on('initialized', function () {
  let isBottom = false;

  const pieData = [{
  centerLabel: '<tspan x="0" dy="-0.4em">Total Hours</tspan> <tspan x="0" dy="1.4em">265</tspan>',
  data: [{
      name: 'Reg',
      value: 192,
      tooltip: 'Regular 192'
    }, {
      name: 'Unpaid',
      value: 24,
      tooltip: 'Unpaid 24'
    }, {
      name: 'Sick',
      value: 22,
      tooltip: 'Sick 22'
    }, {
      name: 'Half Time',
      value: 7,
      tooltip: 'Half Time 24'
    }, {
      name: 'Other',
      value: 5,
      tooltip: 'Other Leave 5'
    }, {
      name: 'Overtime',
      value: 5,
      tooltip: 'Overtime 5'
    }, {
      name: 'Other',
      value: 10,
      tooltip: 'Other 10'
    }]
  }];

  const pieApi = $('#pie-chart-example').chart({
    type: 'donut',
    dataset: pieData,
    showLegend: true,
  }).data('pie')

  $('#toggle-legend').on('click', () => {
    pieApi.updated({ legendPlacement: isBottom ? 'right' : 'bottom' });
    isBottom = !isBottom;
  });
});
</script>
