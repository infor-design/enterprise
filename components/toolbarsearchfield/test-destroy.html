<div class="row top-padding">
  <div class="six columns">

    <h2>Toolbar Searchfield Test: Destroy</h2>
    <p><a class="hyperlink" href="http://jira/browse/SOHO-5330" target="_blank">Related JIRA Ticket</a>.  This test demonstrates destroying and invoking search field</p>

  </div>
</div>

<div class="row">
  <div class="twelve columns">

    <div class="toolbar" role="toolbar">
      <div class="title">
        Toolbar Title
      </div>
      <div class="buttonset">

        <div class="searchfield-wrapper toolbar-searchfield-wrapper">
          <label class="audible" for="regular-toolbar-searchfield">Toolbar Searchfield</label>
          <input class="searchfield" placeholder="keyword" id="regular-toolbar-searchfield" name="regular-toolbar-searchfield"  data-options='{ "source": "{{basepath}}api/states?term=" }'/>
        </div>

        <button type="button" class="btn-secondary" id="destroy">Destroy</button>

      </div>
    </div>

  </div>
</div>

<script>

    $('#destroy').on('click', function () {
      var element = $('#regular-toolbar-searchfield');
      console.log(element.data());

      if (element.data('searchfield')) {
        element.data('searchfield').destroy();
        element.data('toolbarsearchfield').destroy();
        $(this).text('Invoke');
      } else {
        element.searchfield();
        element.toolbarsearchfield();
        console.log(element.data());
        $(this).text('Destroy');
      }
  //regular-toolbar-searchfield
    });

</script>
