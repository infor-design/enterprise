<div class="row">
  <div class="six columns">

    <h2>Popupmenu Test:  Checkable Menus</h2>

  </div>
</div>

<div class="row">
  <div class="six columns">

    <div class="field">
      <button type="button" id="single-check" class="btn-menu">
        <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
          <use xlink:href="#icon-settings"></use>
        </svg>
        <span>Settings</span>
      </button>
      <ul class="popupmenu is-selectable">
        <li class="is-checked"><a href="#">Setting #1</a></li>
        <li><a href="#">Setting #2</a></li>
        <li><a href="#">Setting #3</a></li>
        <li><a href="#">Setting #4</a></li>
        <li><a href="#">Setting #5</a></li>
        <li><a href="#">Setting #6</a></li>
        <li><a href="#">Setting #7</a></li>
      </ul>
    </div>

    <div class="field">
      <button type="button" id="show-single-checked-items" class="btn-secondary">
        <span>Show Single-Selected</span>
      </button>
    </div>

  </div>
  <div class="six columns">

    <div class="field">
      <button type="button" id="multiple-checks" class="btn-menu">
        <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
          <use xlink:href="#icon-settings"></use>
        </svg>
        <span>Options</span>
      </button>
      <ul class="popupmenu is-multiselectable">
        <li class="is-checked"><a href="#">Option #1</a></li>
        <li class="is-checked"><a href="#">Option #2</a></li>
        <li><a href="#">Option #3</a></li>
        <li><a href="#">Option #4</a></li>
        <li><a href="#">Option #5</a></li>
        <li><a href="#">Option #6</a></li>
        <li><a href="#">Option #7</a></li>
      </ul>
    </div>

    <div class="field">
      <button type="button" id="show-multiple-checked-items" class="btn-secondary">
        <span>Show Mutliple-Selected</span>
      </button>
    </div>

  </div>
</div>

<script type="text/javascript">
  $('body').on('initialized', function() {
    var singleApi = $('#single-check').data('popupmenu'),
      multipleApi = $('#multiple-checks').data('popupmenu');

    function renderItemToText(item) {
      return '<li>'+ item.text() +'</li>';
    }

    $('#show-single-checked-items').on('click.test', function() {
      var items = singleApi.getSelected(),
        textForItemDisplay = '';

      items.each(function() {
        textForItemDisplay += renderItemToText($(this));
      });

      $('body').toast({
        title: 'Single Select Items',
        message: 'Currently-selected items in the single select menu are: <br><ul style="list-style-type: square;margin: 5px 20px">' + textForItemDisplay + '</ul>'
      });
    });

    $('#show-multiple-checked-items').on('click.test', function() {
      var items = multipleApi.getSelected(),
        textForItemDisplay = '';

      items.each(function() {
        textForItemDisplay += renderItemToText($(this));
      });

      $('body').toast({
        title: 'Multi-Select Items',
        message: 'Currently-selected items in the mutliple select menu are: <br><ul style="list-style-type: square;margin: 5px 20px">' + textForItemDisplay + '</ul>'
      });
    });

  });
</script>
